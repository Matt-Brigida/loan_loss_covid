<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2021-04-05 Mon 20:48 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Loan-Loss Provisioning During COVID-19</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Matt Brigida" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/js/readtheorg.js"></script>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:e95b018ef3580986a04669f1b5879592219e2a7a&dn=public-domain.txt Public Domain
<!--/*--><![CDATA[/*><!--*/
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
    /*]]>*///-->
// @license-end
</script>
</head>
<body>
<div id="content">
<h1 class="title">Loan-Loss Provisioning During COVID-19</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org6a9b982">1. Data</a></li>
<li><a href="#orgacb2ce0">2. Charts</a>
<ul>
<li><a href="#orgd3c5b64">2.1. Total Loan Losses per Quarter</a></li>
<li><a href="#org5cdea02">2.2. Securities Gains/Losses by Quarter</a></li>
<li><a href="#org041d6ec">2.3. Income Taxes by Quarter</a></li>
</ul>
</li>
<li><a href="#org1ac389a">3. Is There a Correlation Between Taxes and Loan Loss Reserve Increases</a>
<ul>
<li><a href="#orgea3c067">3.1. All Banks</a></li>
<li><a href="#orgb5fc697">3.2. Small Banks (&lt; $500 million)</a></li>
<li><a href="#org107d5ac">3.3. Large Banks (&gt; $500 million)</a></li>
</ul>
</li>
<li><a href="#org3f1f107">4. Cross-Sectional Regression</a>
<ul>
<li><a href="#org751dbda">4.1. Variables in Regression</a></li>
</ul>
</li>
<li><a href="#orgc8d9746">5. Variables Available in Panel</a></li>
</ul>
</div>
</div>
<p>
Loan-loss reserves appear on both a bank's balance sheet and income statement.  On the balance sheet loan loss reserves are a <i>contra-asset</i> account which reduces the amount of loan assets by the expected amount of those loans which will not be repaid.  
</p>

<p>
Changes to this <i>contra-asset</i> account are recorded in the income statement.  If the loan loss reserves account is increased, then the amount of this increase is recorded as an expense on the income statement.  Conversely, a reduction of the loan loss reserve account increases income.
</p>

<p>
Due to the effect on income, loan loss reserves have a long history of being used for earnings smoothing and tax mitigation strategy.
</p>

<div id="outline-container-org6a9b982" class="outline-2">
<h2 id="org6a9b982"><span class="section-number-2">1</span> Data</h2>
<div class="outline-text-2" id="text-1">
<p>
For all variables available in the data set, see the list below.  Variables are listed by their FDIC codes, <a href="https://www7.fdic.gov/sdi/main.asp">which are available here.</a>
</p>
</div>
</div>


<div id="outline-container-orgacb2ce0" class="outline-2">
<h2 id="orgacb2ce0"><span class="section-number-2">2</span> Charts</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-orgd3c5b64" class="outline-3">
<h3 id="orgd3c5b64"><span class="section-number-3">2.1</span> Total Loan Losses per Quarter</h3>
<div class="outline-text-3" id="text-2-1">

<div id="org1764cb3" class="figure">
<p><img src="./total_quarterly_loan_losses_py.png" alt="total_quarterly_loan_losses_py.png" />
</p>
<p><span class="figure-number">Figure 1: </span>Total Loan Loss Reserves by Quarter.</p>
</div>
</div>
</div>

<div id="outline-container-org5cdea02" class="outline-3">
<h3 id="org5cdea02"><span class="section-number-3">2.2</span> Securities Gains/Losses by Quarter</h3>
<div class="outline-text-3" id="text-2-2">

<div id="orge7b0e5b" class="figure">
<p><img src="./tot_sec_gains_by_quarter.png" alt="tot_sec_gains_by_quarter.png" />
</p>
<p><span class="figure-number">Figure 2: </span>Total Securities Gains and Losses by Quarter.</p>
</div>
</div>
</div>

<div id="outline-container-org041d6ec" class="outline-3">
<h3 id="org041d6ec"><span class="section-number-3">2.3</span> Income Taxes by Quarter</h3>
<div class="outline-text-3" id="text-2-3">

<div id="orge6e7afc" class="figure">
<p><img src="./inc_tax_gains_by_quarter.png" alt="inc_tax_gains_by_quarter.png" />
</p>
<p><span class="figure-number">Figure 3: </span>Total Income Taxes by Quarter.</p>
</div>
</div>
</div>
</div>


<div id="outline-container-org1ac389a" class="outline-2">
<h2 id="org1ac389a"><span class="section-number-2">3</span> Is There a Correlation Between Taxes and Loan Loss Reserve Increases</h2>
<div class="outline-text-2" id="text-3">
<p>
Here we take a look at whether banks with higher taxes paid as a percent of revenue in Q4 2019 increased their loan losses at a faster rate from Q4 2019 to Q3 2020.  We remove any bank with negative taxes, or percent change in loan losses not in the interval (-1, 1).
</p>

<p>
But this effect should only exist for banks with assets less than $500 million.  <a href="https://www.frbsf.org/economic-research/publications/economic-letter/1997/july/recent-developments-in-loan-loss-provisioning-at-us-commercial-banks/#:~:text=Before%20the%20Tax%20Reform%20Act,treated%20as%20tax%20deductible%20expenses.&amp;text=In%201986%2C%20the%20Tax%20Reform,with%20assets%20over%20%24500%20million.">See the below quote from this link.</a>
</p>

<blockquote>
<p>
The second factor is tax policy. Before the Tax Reform Act of 1986, loan loss provisions were essentially treated as tax deductible expenses. Since higher provisions reduced the bank’s tax liability, bank managers had the incentive to build up loan loss reserves by over-provisioning. In 1986, the Tax Reform Act tied the amount of tax deductible loan loss expenses to a bank’s actual charge-off experience for banks with assets over $500 million. The change in tax policy eliminates the “tax shelter” of over-provisioning for large banks. However, this also makes the tax treatment of loss provisioning backward-looking, while sound risk management requires it to be forward-looking.
</p>
</blockquote>

<p>
So redo the analysis below filtering for only banks with less than $500 million in assets.
</p>
</div>

<div id="outline-container-orgea3c067" class="outline-3">
<h3 id="orgea3c067"><span class="section-number-3">3.1</span> All Banks</h3>
<div class="outline-text-3" id="text-3-1">
<p>
So we see a positive correlation of 0.13 between taxes and the change in loan loss reserves.
</p>


<div id="org630d079" class="figure">
<p><img src="./scatter_losses_taxes.png" alt="scatter_losses_taxes.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgb5fc697" class="outline-3">
<h3 id="orgb5fc697"><span class="section-number-3">3.2</span> Small Banks (&lt; $500 million)</h3>
<div class="outline-text-3" id="text-3-2">
</div>
</div>


<div id="outline-container-org107d5ac" class="outline-3">
<h3 id="org107d5ac"><span class="section-number-3">3.3</span> Large Banks (&gt; $500 million)</h3>
<div class="outline-text-3" id="text-3-3">
</div>
</div>
</div>

<div id="outline-container-org3f1f107" class="outline-2">
<h2 id="org3f1f107"><span class="section-number-2">4</span> Cross-Sectional Regression</h2>
<div class="outline-text-2" id="text-4">
<pre class="example">
&lt;class 'pandas.core.frame.DataFrame'&gt;
Int64Index: 5967 entries, 1000052 to 999935
Columns: 101 entries, cert to first_lien_re
dtypes: datetime64[ns](1), float64(84), int64(9), object(7)
memory usage: 4.6+ MB
</pre>
</div>


<div id="outline-container-org751dbda" class="outline-3">
<h3 id="org751dbda"><span class="section-number-3">4.1</span> Variables in Regression</h3>
<div class="outline-text-3" id="text-4-1">
<p>
Should add log of loan losses and net charge offs to assets, as well as variables from panel rebuild.
</p>

<pre class="example">
/tmp/babel-u8vDsg/python-4WGOem:4: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  X['asset5'] = np.log(X['asset5'])
</pre>




<pre class="example" id="org0c7a1a9">

&gt;&gt;&gt; &gt;&gt;&gt; &lt;class 'pandas.core.frame.DataFrame'&gt;
Int64Index: 5967 entries, 1000052 to 999935
Data columns (total 3 columns):
 #   Column  Non-Null Count  Dtype  
---  ------  --------------  -----  
 0   nim     5967 non-null   float64
 1   asset5  5967 non-null   float64
 2   roa     5967 non-null   float64
dtypes: float64(3)
memory usage: 315.5 KB
array([ 6.08003420e-08, -1.27424821e-09,  1.76338988e-04])
</pre>


<pre class="example" id="org8a2237b">

Parsed with column specification:
cols(
  rssd = [32mcol_double()[39m,
  intincy = [32mcol_double()[39m,
  nim = [32mcol_double()[39m,
  asset5 = [32mcol_double()[39m,
  roa = [32mcol_double()[39m,
  intexpy = [32mcol_double()[39m,
  ntlnlsr = [32mcol_double()[39m,
  LNLSNTV = [33mcol_logical()[39m,
  rbc1rwaj = [32mcol_double()[39m,
  iserchg = [32mcol_double()[39m,
  per_change = [32mcol_double()[39m,
  taxes_over_rev_x = [32mcol_double()[39m,
  home_eq = [32mcol_double()[39m,
  first_lien_re = [32mcol_double()[39m,
  treas_over_assets = [32mcol_double()[39m,
  SB_CI_assets = [32mcol_double()[39m,
  credit_derivs_bene_assets = [32mcol_double()[39m,
  credit_derivs_guarantor_assets = [32mcol_double()[39m,
  securities_assets = [32mcol_double()[39m
)

Call:
lm(formula = per_change ~ intincy
nim
asset5
roa
intexpy

    ntlnlsr
rbc1rwaj
iserchg
taxes_over_rev_x
home_eq

    first_lien_re
treas_over_assets
SB_CI_assets
credit_derivs_bene_assets

    credit_derivs_guarantor_assets
securities_assets, data = reg_data)

Residuals:
     Min       1Q   Median       3Q      Max 
-0.95214 -0.11556 -0.03228  0.06544  0.83486 

Coefficients:
                                 Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)                    -8.545e-01  5.804e-02 -14.724  &lt; 2e-16 ***
intincy                         8.355e-03  5.032e-03   1.660   0.0970 .  
nim                            -9.406e-10  4.595e-09  -0.205   0.8378    
asset5                          7.154e-02  3.278e-03  21.824  &lt; 2e-16 ***
roa                            -4.087e-03  4.351e-03  -0.939   0.3478    
intexpy                        -1.825e-02  1.250e-02  -1.460   0.1445    
ntlnlsr                         1.408e-02  1.126e-02   1.251   0.2111    
rbc1rwaj                        6.884e-05  6.830e-04   0.101   0.9197    
iserchg                        -2.570e-08  4.013e-08  -0.640   0.5220    
taxes_over_rev_x               -1.854e-01  1.332e-01  -1.392   0.1641    
home_eq                         4.082e-01  2.260e-01   1.806   0.0711 .  
first_lien_re                  -4.580e-02  3.385e-02  -1.353   0.1762    
treas_over_assets               3.158e-01  1.661e-01   1.901   0.0575 .  
SB_CI_assets                    1.109e-01  1.037e-01   1.069   0.2851    
credit_derivs_bene_assets      -5.585e+00  8.411e-01  -6.640 3.99e-11 ***
credit_derivs_guarantor_assets  6.573e+00  1.002e+00   6.558 6.86e-11 ***
securities_assets              -7.467e-02  4.413e-02  -1.692   0.0908 .  
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1

Residual standard error: 0.2065 on 2085 degrees of freedom
  (3865 observations deleted due to missingness)
Multiple R-squared:  0.3275,	Adjusted R-squared:  0.3224 
F-statistic: 63.47 on 16 and 2085 DF,  p-value: &lt; 2.2e-16
</pre>
</div>
</div>
</div>


<div id="outline-container-orgc8d9746" class="outline-2">
<h2 id="orgc8d9746"><span class="section-number-2">5</span> Variables Available in Panel</h2>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Matt Brigida</p>
<p class="date">Created: 2021-04-05 Mon 20:48</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
